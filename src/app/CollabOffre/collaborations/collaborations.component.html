<!-- For displaying all users in a tables-->
<div class="container">
<div class="row" *ngIf="deleteMsg !== ''">  
  <div class="alert alert-info alert-dismissible">
    <button type="button" class="close" data-dismiss="alert">&times;</button>
      {{deleteMsg}}
  </div>
</div>
<div class="row">
    <h2>collaborations</h2>
    <table class="table table-sm table-bordered table-striped">
        <thead>
          <tr> 
              <th></th>
              <th>collaboration Id</th>
              <th>company Name</th>
              <th>description </th>
              <th>mail Company </th>
              <th>activity</th>
              <th>date</th>
              <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let colab of collabs">
              <td></td>
            <td>{{colab.collaborationId}}</td>
            <td>{{colab.companyName}}</td>
            <td>{{colab.description}}</td>
            <td>{{colab.mailCompany}}</td>
            <td>{{colab.activity}}</td>
            <td>{{colab.date | date:'dd/MM/yyyy'}}</td>
            <td>
                <button class="btn btn-success btn-sm" (click)="openVerticallyCentered(content,colab.collaborationId)" 
                     type="button"  style="cursor:pointer">Update</button>
                     
                <button class="btn btn-danger btn-sm ml-3" (click)="onClickDelete(colab.collaborationId)">Delete</button>
            </td>
          </tr>
        </tbody>
    </table>
    <button class="btn btn-success btn-sm" (click)="addingoffers()" 
                     type="button"  style="cursor:pointer">adding offers By convention </button>
                     
</div>
</div>

<!-- To show a modal box to update a record-->
<ng-template #content let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Update Collab</h4>
    <button type="button" class="ni ni-fat-remove" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
  </div>
  <form class="form-sm" [formGroup]="colabUpdateForm" (ngSubmit)="onSubmit()">
      <div class="modal-body">
        <div class="form-group">
            <label for="collaborationId">collaborationId </label>
            <input type="int" class="form-control" id="collaborationId"
              formControlName="collaborationId">       

            </div>                      
        </div>    
        <div class="form-group">
          <label for="companyName">company Name</label>
          <input type="text" class="form-control" id="companyName"
            formControlName="companyName">       
          <div class="alert alert-danger" *ngIf="colabUpdateForm.get('companyName').invalid 
            && colabUpdateForm.get('companyName').touched">
            <div *ngIf="colabUpdateForm.get('companyName').errors.required">
              Company Name is required.
            </div>
            <div *ngIf="colabUpdateForm.get('companyName').errors.minlength">
                Company Name must be at least 3 characters long.
            </div>
          </div>                      
        </div>
        <div class="form-group">
          <label for="description">description </label>
          <input type="text" class="form-control" id="description"
            formControlName="description">       
          <div class="alert alert-danger" *ngIf="colabUpdateForm.get('description').invalid 
            && colabUpdateForm.get('description').touched">
            <div *ngIf="colabUpdateForm.get('description').errors.required">
              Description  is required.
            </div>
            <div *ngIf="colabUpdateForm.get('description').errors.minlength">
                Description must be at least 5 characters long.
            </div>
          </div>                      
        </div>
        <div class="form-group">
            <label for="mailCompany">mail Company </label>
            <input type="text" class="form-control" id="mailCompany"
              formControlName="mailCompany">       
                
          </div>

        <div class="form-group">
          <label for="activity">Activity </label>
          <select class="form-control" id="activity"                    
          formControlName="activity">
            <option *ngFor="let type of colabActivities" [value]="type">{{type}}</option>
          </select>
        </div>
        <div class="form-group">
            <label for="date"> Date</label>
            <input type="date" class="form-control" id="date"
            formControlName="date">                        
        </div>

      <div class="modal-footer">
          <button type="submit" class="btn btn-primary">Update</button>
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
      </form>
  <div class="modal-footer">
 
  </div>
</ng-template>